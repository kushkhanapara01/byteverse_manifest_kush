version: 0.0.2
jobId: "243"
jobName: Weather chaining 8Sept copy copy
jobType: Aggregated Data Product
alias: Load_all_data_chaining_8Sept
discoveryPort:
  name: Weather chaining 8Sept copy copy
inputPorts:
  - alias: Weather_API_Daily_8Sept_1
    isDynamic: true
    dataProductUrn: urn:dv:dataproduct:eda34191-7924-42fe-a2c2-b8c496ca7834
    projection: Country,City,Region,Lat
    filter: country = 'India'
    warehousePath: "***s3StateBucket***"
    type: readDataIceberg
    catalogName: glue
    optional:
      persistDataFrame: false
      advanceOptions:
        endPoint: s3.undefined.amazonaws.com
        accessKey: abc
        secretKey: abc
      dataProductUrn: urn:dv:dataproduct:eda34191-7924-42fe-a2c2-b8c496ca7834
    tableName: select Country,City,Region,Lat from glue.s3Source.weather_daily where
      country = 'India'
productState:
  isDynamic: true
  alias: Load_all_data_chaining_8Sept
  retentionVersions: ""
  logicalSchema:
    properties:
      City:
        type: STRING
        description: abcadasda
        source_column: abc1
        source_table: table1
      Region:
        type: STRING
        description: ""
        source_column: abc2
        source_table: table2
      Country:
        type: STRING
        description: ""
        source_column: abc3
        source_table: table3
      Latitude:
        type: STRING
        description: ""
        source_column: abc4
        source_table: table4
      Longitude:
        type: STRING
        description: ""
        source_column: abc5
        source_table: table5
      Timezone:
        type: STRING
        description: ""
        source_column: abc6
        source_table: table6
      Local Time:
        type: STRING
        description: ""
        source_column: abc7
        source_table: table7
      Cloud ID:
        type: STRING
        description: ""
        source_column: abc8
        source_table: table8
      Feels like Celsius:
        type: STRING
        description: ""
        source_column: abc9
        source_table: table9
      Feels like Fahrenheit:
        type: STRING
        description: ""
        source_column: abc10
        source_table: table10
      Gust speed in kph:
        type: STRING
        description: ""
        source_column: abc11
        source_table: table11
      Gust speed in mph:
        type: STRING
        description: ""
        source_column: abc12
        source_table: table12
      Humidity:
        type: STRING
        description: ""
        source_column: abc13
        source_table: table13
      Is day time?:
        type: STRING
        description: ""
        source_column: abc14
        source_table: table14
      Last update:
        type: STRING
        description: ""
        source_column: abc15
        source_table: table15
      Last updated time in epoch:
        type: STRING
        description: ""
        source_column: abc16
        source_table: table16
      Precipitation in inch:
        type: STRING
        description: ""
        source_column: abc17
        source_table: table17
      Precipitation in mm:
        type: STRING
        description: ""
        source_column: abc18
        source_table: table18
      Pressure:
        type: STRING
        description: ""
        source_column: abc19
        source_table: table19
      Precipitation in mb:
        type: STRING
        description: ""
        source_column: abc20
        source_table: table20
      Temperature in Celsius:
        type: STRING
        description: ""
        source_column: abc21
        source_table: table21
      Temperature in Fahrenheit:
        type: STRING
        description: ""
        source_column: abc22
        source_table: table22
      UV:
        type: STRING
        description: ""
        source_column: abc23
        source_table: table23
      Visibility in km:
        type: STRING
        description: ""
        source_column: abc24
        source_table: table24
      Visibility in miles:
        type: STRING
        description: ""
        source_column: abc25
        source_table: table25
      Wind Degree:
        type: STRING
        description: ""
        source_column: abc26
        source_table: table26
      Wind Direction:
        type: STRING
        description: ""
        source_column: abc27
        source_table: table27
      Wind in kph:
        type: STRING
        description: ""
        source_column: abc28
        source_table: table28
      Wind in mph:
        type: STRING
        description: ""
        source_column: abc29
        source_table: table29
  stateStoreType: loadDataIceberg
  isProfilingEnabled: false
  updateStrategy: Overwrite
  tableName: s3Source.weather_chaining_test
  warehousePath: s3://bp-spark-sql-library-test-acc/weather_chaining_test
  catalogName: glue
  optional:
    persistDataFrame: false
    enableDataReconciliation: false
    enforceSchema: true
    enforceSchemaMethod: Warning
    catalogType: glue
  refreshInterval: None
transformation:
  - alias: Spark_SQL_1
    type: SQL
    description: Read all data
    query: select * from weather
    sequenceNo: 2
    references:
      - alias: Weather_API_Daily_8Sept_1
        sqlReference: weather
controlPort:
  dataQualityRules: {}
outputPort:
  subscriptionChannels:
    - channelType: Postgres
      queryType: SQL
